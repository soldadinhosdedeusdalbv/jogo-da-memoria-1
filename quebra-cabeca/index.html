<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <title>Quebra-Cabeça11</title>
    <link rel="shortcut icon" href="https://soldadinhosdedeusdalbv.github.io/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://soldadinhosdedeusdalbv.github.io/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-title" content="Quebra-Cabeça">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#00678a">
    <link rel='mask-icon' href='https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/safari-pinned-tab.svg' color='#00678a'>
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/1242x2688px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/828x1792px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/1125x2436px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/1242x2208px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/750x1334px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/2048x2732px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/1668x2388px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/1668x2224px.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/splash-screen/1536x2048px.png">
    <link rel="apple-touch-icon" sizes="57x57"   href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/57x57px.png">
    <link rel="apple-touch-icon" sizes="72x72"   href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/72x72px.png">
    <link rel="apple-touch-icon" sizes="76x76"   href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/76x76px.png">
    <link rel="apple-touch-icon" sizes="96x96"   href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/96x96px.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/114x114px.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/120x120px.png">
    <link rel="apple-touch-icon" sizes="128x128" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/128x128px.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/144x144px.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/152x152px.png">
    <link rel="apple-touch-icon" sizes="167x167" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/167x167px.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/180x180px.png">
    <link rel="apple-touch-icon" sizes="192x192" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/192x192px.png">
    <link rel="apple-touch-icon" sizes="384x384" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/384x384px.png">
    <link rel="apple-touch-icon" sizes="512x512" href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/512x512px.png">
    <link rel="apple-touch-icon"                 href="https://soldadinhosdedeusdalbv.github.io/jogo-da-memoria/apple-touch-icon-yellow/512x512px.png">
    <link rel="manifest" href="https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/manifest.json">
    <link rel="stylesheet" href="https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/puzzleimg.css">
    <script src="https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/puzzleimg.js"></script>
  </head>
  <body>
    <div class="modal-overlay vire" style='display: none;'>
      <div class="modal">
        <h2 class="winner" style="font-size: 40px;">Vire a tela para jogar</h2>
      </div>
    </div>
    <div id="modal-win" class="modal-overlay" style='display: none;'>
      <div class="modal">
        <h2 class="winner">Parabéns!</h2>
        <button id="modal-restart" class="restart">Quer jogar novamente?</button>
      </div>
    </div>
    <div id="puzzle" class="puzelm"></div>
    <script>
      window.PuzzleIndex = 0;
      function shuffle(a) {
        var j, x, i;
        for (i = a.length - 1; i > 0; i--) {
            j = Math.floor(Math.random() * (i + 1));
            x = a[i];
            a[i] = a[j];
            a[j] = x;
        }
        return a;
      }

      var imgs = shuffle([
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/1.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/2.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/3.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/4.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/5.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/6.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/7.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/8.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/9.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/10.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/11.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/12.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/13.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/14.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/15.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/16.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/17.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/18.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/19.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/20.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/21.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/22.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/23.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/24.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/25.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/26.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/27.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/28.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/29.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/30.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/31.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/32.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/33.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/34.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/35.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/36.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/37.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/38.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/39.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/40.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/41.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/42.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/43.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/44.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/45.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/46.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/47.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/48.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/49.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/50.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/51.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/52.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/53.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/54.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/55.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/56.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/57.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/58.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/59.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/60.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/61.jpg',
        'https://soldadinhosdedeusdalbv.github.io/quebra-cabeca/imgs/62.jpg'
      ]);

      function calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {
        var ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);
        return { width: srcWidth*ratio, height: srcHeight*ratio };
      }

      function init() {
          var puzzle = new PuzzleImg('puzzle',
                                  imgs[window.PuzzleIndex],
                                  4,
                                  4,
                                  //calculateAspectRatioFit(1920, 400, document.body.clientWidth, document.documentElement.clientHeight).width,
                                  //calculateAspectRatioFit(1920, 400, document.body.clientWidth, document.documentElement.clientHeight).height
                                  document.body.clientWidth,
                                  document.documentElement.clientHeight
                                  );

        puzzle.solved = function(){
          setTimeout(function() {
            document.getElementById('modal-win').style.display = '';

            window.PuzzleIndex = (window.PuzzleIndex + 1) % imgs.length;
            init();

            document.getElementById('modal-restart').addEventListener('click', function(e) {
              document.getElementById('modal-win').style.display = 'none';
              e.preventDefault();
              e.stopPropagation();
              e.stopImmediatePropagation();
            });
          }, 5000);
        }
      }

      init();

      function isLandscape() {
        return window.innerWidth >= window.innerHeight;
      }

      function debounce(func, time){
        var timer;
        return function(event){
          if(timer) clearTimeout(timer);
          timer = setTimeout(func, time, event);
        };
      }

      var fn = debounce(function() {
        init();
        }, 300);

      window.addEventListener('resize', function() {
        fn();
      });

      document.addEventListener('visibilitychange', function() {
        if (document.visibilityState === 'visible') {
          fn();
        }
      });
    </script>
    <script>
      window.addEventListener('load', function() {
        setTimeout(function() {
          if ('serviceWorker' in navigator) {
            console.log('CLIENT: service worker registration in progress.');
            navigator.serviceWorker.register('sw.js').then(function() {
              console.log('CLIENT: service worker registration complete.');
            }, function() {
              console.log('CLIENT: service worker registration failure.');
            });
          } else {
            console.log('CLIENT: service worker is not supported.');
          }
        }, 5000);
      });
    </script>
  </body>
</html>
