<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <title>Quebra-Cabe√ßa</title>
    <link rel="stylesheet" href="puzzleimg.css">
    <script src="puzzleimg.js"></script>
  </head>
  <body>
    <div id="puzzle" class="puzelm"></div>
    <script>
      function shuffle(a) {
        var j, x, i;
        for (i = a.length - 1; i > 0; i--) {
            j = Math.floor(Math.random() * (i + 1));
            x = a[i];
            a[i] = a[j];
            a[j] = x;
        }
        return a;
      }

      var imgs = shuffle([
        'imgs/001.jpg',
        'imgs/002.jpg',
        'imgs/003.jpg',
        'imgs/004.jpg',
        'imgs/005.jpg'
      ]);

      function calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {
        var ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);
        return { width: srcWidth*ratio, height: srcHeight*ratio };
      }

      function init(index) {
          var puzzle = new PuzzleImg('puzzle',
                                  imgs[index],
                                  2,
                                  2,
                                  //calculateAspectRatioFit(1920, 400, document.body.clientWidth, document.documentElement.clientHeight).width,
                                  //calculateAspectRatioFit(1920, 400, document.body.clientWidth, document.documentElement.clientHeight).height
                                  document.body.clientWidth,
                                  document.documentElement.clientHeight
                                  );
        puzzle.solved = function(){
          alert('Congratulations, you solved the puzzle in '+ puzzle.clicks +' clicks');
          init((index + 1) % imgs.length);
        }
      }

      init(0);
    </script>
  </body>
</html>
